<section id="positions-container"
  class="bg-white border border-gray-200 rounded-md shadow-sm p-4"
  hx-get="/ui/partials/positions"
  hx-trigger="refresh"
  hx-include="#controls"
  hx-params="mode,testnet"
  hx-indicator=".htmx-indicator"
  hx-swap="outerHTML">

  <h2 class="text-lg font-semibold mb-2">Позиции</h2>
  {% if positions and positions|length > 0 %}
    <ul class="divide-y">
      {% for p in positions %}
        <li class="py-1">
          {{ p.symbol }} — {{ p.side }} {{ p.qty }}{% if p.price is not none %} @ {{ p.price }}{% endif %}
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <div class="flex items-start space-x-2 text-gray-600">
      <span class="text-blue-600">ℹ️</span>
      <div>
        <div>Открытых позиций нет</div>
        <div class="text-xs text-gray-400">Если ожидаете активность — проверьте режим <code>binance/sim</code>, флаг <code>testnet</code> и источники данных на сервере.</div>
      </div>
    </div>
  {% endif %}
</section>
